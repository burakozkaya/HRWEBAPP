<nav>
    <div class="nav nav-tabs" id="nav-tab" role="tablist">
        <button class="nav-link active" id="nav-expense-tab" data-bs-toggle="tab" data-bs-target="#nav-expense"
            type="button" role="tab" aria-controls="nav-expense" aria-selected="true"
            onclick="setActiveTab('nav-expense-id')">Expenses</button>
        <button class="nav-link" id="nav-advance-tab" data-bs-toggle="tab" data-bs-target="#nav-advance" type="button"
            role="tab" aria-controls="nav-advance" aria-selected="false">Advances</button>
        <button class="nav-link" id="nav-leave-tab" data-bs-toggle="tab" data-bs-target="#nav-le
         type=" button" role="tab" aria-controls="nav-leave" aria-selected="false">Leaves</button>
    </div>
</nav>

<div class="tab-content" id="nav-tabContent">
    <div class="tab-pane fade show active" id="nav-expense" role="tabpanel" aria-labelledby="nav-expense-tab">
        <table class="table table-bordered table-striped data-table" id="Expenses">
            <thead>
                <tr>
                    <th>Id</th>
                    <th>Expense Type</th>
                    <th>Amount</th>
                    <th>Currency</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                @{
                    if (ViewBag.Expenses != null)
                    {
                        @foreach (var expense in ViewBag.Expenses)
                        {
                            <tr>
                                <td>@expense.Id</td>
                                <td>@expense.ExpenseTypeName</td>
                                <td>@expense.Amount</td>
                                <td>@expense.Currency</td>
                                <td>
                                    <a asp-action="Approve" class="details btn btn-primary" asp-route-id="@expense.Id"
                                        asp-route-data="expense" asp-route-isApproved="true">Approve</a>
                                    <a asp-action="Approve" asp-route-id="@expense.Id" class="btn btn-danger"
                                        asp-route-data="expense" asp-route-isApproved="false">Deny</a>
                                </td>
                            </tr>
                        }
                    }
                }
            </tbody>
        </table>
    </div>
    <div class="tab-pane fade" id="nav-advance" role="tabpanel" aria-labelledby="nav-advance-tab">
        <table class="table table-bordered table-striped data-table" id="Advances">
            <thead>
                <tr>
                    <th>Id</th>
                    <th>Advance Type</th>
                    <th>Amount</th>
                    <th>Currency</th>
                    <th>Request Date</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                @{
                    if (ViewBag.Advances != null)
                    {
                        @foreach (var advance in ViewBag.Advances)
                        {
                            <tr>
                                <td>@advance.Id</td>
                                <td>@advance.AdvanceTypeName</td>
                                <td>@advance.Amount</td>
                                <td>@advance.Currency</td>
                                <td>@advance.RequestDate.ToString("dd/MM/yyyy")</td>
                                <td>
                                    <a asp-action="Approve" class="details btn btn-primary" asp-route-id="@advance.Id"
                                        asp-route-data="advance" asp-route-isApproved="true">Approve</a>
                                    <a asp-action="Approve" asp-route-id="@advance.Id" asp-route-data="advance"
                                        class="btn btn-danger" asp-route-isApproved="false">Deny</a>
                                </td>
                            </tr>
                        }
                    }
                }
            </tbody>
        </table>
    </div>
    <div class="tab-pane fade" id="nav-leave" role="tabpanel" aria-labelledby="nav-leave-tab">
        <table class="table table-bordered table-striped data-table" id="Leaves">
            <thead>
                <tr>
                    <th>Id</th>
                    <th>Leave Type</th>
                    <th>Start Date</th>
                    <th>Day Count</th>
                    <th>End Date</th>
                    <th>Request Date</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                @{
                    if (ViewBag.Leaves != null)
                    {
                        @foreach (var leave in ViewBag.Leaves)
                        {
                            <tr>
                                <td>@leave.Id</td>
                                <td>@leave.LeaveTypeName</td>
                                <td>@leave.StartDate.ToString("dd/MM/yyyy")</td>
                                <td>@leave.NumDays</td>
                                <td>@leave.EndDate.ToString("dd/MM/yyyy")</td>
                                <td>
                                    <a asp-action="Approve" class="details btn btn-primary" asp-route-id="@leave.Id"
                                        asp-route-data="leave" asp-route-isApproved="true">Approve</a>
                                    <a asp-action="Approve" asp-route-id="@leave.Id" class="btn btn-danger" asp-route-data="leave"
                                        asp-route-isApproved="false">Deny</a>
                                </td>
                            </tr>
                        }
                    }
                }
            </tbody>
        </table>
    </div>
</div>


@section Scripts {
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="~/AdminLTE-3.1.0/plugins/datatables/jquery.dataTables.min.js"></script>
    <script src="~/AdminLTE-3.1.0/plugins/datatables-bs4/js/dataTables.bootstrap4.min.js"></script>
    <script src="~/AdminLTE-3.1.0/plugins/datatables-responsive/js/dataTables.responsive.min.js"></script>
    <script src="~/AdminLTE-3.1.0/plugins/datatables-responsive/js/responsive.bootstrap4.min.js"></script>
    <script src="~/AdminLTE-3.1.0/plugins/datatables-buttons/js/dataTables.buttons.min.js"></script>
    <script src="~/AdminLTE-3.1.0/plugins/datatables-buttons/js/buttons.bootstrap4.min.js"></script>
    <script src="~/AdminLTE-3.1.0/plugins/jszip/jszip.min.js"></script>
    <script src="~/AdminLTE-3.1.0/plugins/pdfmake/pdfmake.min.js"></script>
    <script src="~/AdminLTE-3.1.0/plugins/pdfmake/vfs_fonts.js"></script>
    <script src="~/AdminLTE-3.1.0/plugins/datatables-buttons/js/buttons.html5.min.js"></script>
    <script src="~/AdminLTE-3.1.0/plugins/datatables-buttons/js/buttons.print.min.js"></script>
    <script src="~/AdminLTE-3.1.0/plugins/datatables-buttons/js/buttons.colVis.min.js"></script>

    <script>
        $(document).ready(function () {
            // Initialize DataTables for each table with a unique class
            $('.data-table').DataTable({
                "responsive": true,
                "lengthChange": true,
                "autoWidth": false,
                "buttons": ["copy", "csv", "excel", "colvis"],
            });

            // Handle tab click events
            $('a[data-bs-toggle="tab"]').on('shown.bs.tab', function (e) {
                // Hide all tables
                $('.data-table').hide();

                // Show the selected table
                var targetTableId = $(e.target).attr('data-bs-target');
                $(targetTableId).show();
            });
        });
    </script>
}
